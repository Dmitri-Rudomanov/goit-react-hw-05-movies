"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[163],{565:function(e,t){var n="9f7c5da3425a9d17909027ad2b61278f",o="https://api.themoviedb.org/3/";var r={fetchPopularMovies:function(){return fetch("".concat(o,"trending/movies/week?api_key=").concat(n)).then((function(e){if(e.ok)return e.json()}))},fetchDetails:function(e){return fetch("".concat(o,"movie/").concat(e,"?api_key=").concat(n)).then((function(e){if(e.ok)return e.json()}))},fetchCast:function(e){return fetch("".concat(o,"movie/").concat(e,"/credits?api_key=").concat(n)).then((function(e){if(e.ok)return e.json()}))},fetchReviews:function(e){return fetch("".concat(o,"movie/").concat(e,"/reviews?api_key=").concat(n)).then((function(e){if(e.ok)return e.json()}))},fetchMovies:function(e){return fetch("".concat(o,"search/movie?api_key=").concat(n,"&query=").concat(e,"&page=1")).then((function(e){if(e.ok)return e.json()}))}};t.Z=r},29:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var o,r,c=n(152),s=n(871),i=n(791);var a=(r=o=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return o.shouldTruncateString=function(e){return e.length>parseInt(o.props.length)},o.truncatedString=function(e){return e.slice(0,o.props.length).split(" ").slice(0,-1).join(" ")},o.toggleShowMore=function(e){e&&e.preventDefault&&e.preventDefault(),o.setState((function(e){return{showMore:!e.showMore}}))},o.state={showMore:!1},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state.showMore,t=this.props,n=t.text,o=t.enabled,r=t.className,c=t.style,s=t.ellipsis,a=t.showMoreLabel,u=t.showLessLabel,l=this.props.tag;return o&&this.shouldTruncateString(n)?i.createElement(i.Fragment,null,!e&&""+this.truncatedString(n)+s,e&&n,i.createElement(l,{className:r,onClick:this.toggleShowMore,style:c},e?u:a)):i.createElement(i.Fragment,null,n)},t}(i.Component),o.defaultProps={enabled:!0,length:170,className:"",tag:"span",style:{cursor:"pointer",color:"#007bff"},ellipsis:"...",showMoreLabel:" Show more",showLessLabel:" Show less"},r);a.propTypes={};var u=a,l=n(565),h=n(184);function f(){var e=(0,s.UO)().movieId,t=(0,i.useState)([]),n=(0,c.Z)(t,2),o=n[0],r=n[1];(0,i.useEffect)((function(){l.Z.fetchReviews(e).then((function(e){var t=e.results;return r(t)}))}),[e]);var a=o&&0===o.length;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("ul",{children:o&&o.map((function(e){return(0,h.jsx)("li",{children:(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{children:e.author}),(0,h.jsx)("p",{children:(0,h.jsx)(u,{text:e.content,length:500,showMoreLabel:" Show more >>",showLessLabel:" Show less <<",style:{cursor:"pointer",color:"rgba(238, 138, 16, 0.952)",fontWeight:"bold"}})})]})},e.id)}))}),a&&(0,h.jsx)("h2",{children:"Sorry,we havent found any reviews for this movie"})]})}}}]);
//# sourceMappingURL=reviews-page.bd0f00b1.chunk.js.map